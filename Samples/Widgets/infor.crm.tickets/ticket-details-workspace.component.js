var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
define(["require", "exports", "@angular/core", "@infor/sohoxi-angular", "./data.service", "./sort-filter.service"], function (require, exports, core_1, sohoxi_angular_1, data_service_1, sort_filter_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var TicketDetailWorkspaceComponent = /** @class */ (function () {
        function TicketDetailWorkspaceComponent(dataService, toastService, modalService, sortFilterService) {
            this.dataService = dataService;
            this.toastService = toastService;
            this.modalService = modalService;
            this.sortFilterService = sortFilterService;
            this.isMobileView = false;
            this.assigneeList = [];
            this.tmpStatus = "";
            this.tmpPendingReason = "";
            this.tmpSolvedReason = "";
            this.tmpModalStatus = "Pending";
            this.tmpModalPendingReason = "";
            this.tmpModalSolvedReason = "";
            this.isAssignToMe = false;
            this.assigneeColumns = [
                {
                    id: 'CRMName',
                    name: 'Name',
                    field: 'CRMName',
                    formatter: Soho.Formatters.Readonly
                }
            ];
        }
        TicketDetailWorkspaceComponent.prototype.updateTicket = function () {
            var _this = this;
            this.busyIndicator.activated = true;
            var toastTitle = 'Ticket Assigned';
            var toastMessage = "Ticket " + this.ticket.TicketNumber + " has been assigned to you.";
            if (this.tmpStatus === "Open") {
                toastTitle = 'Status Changed';
                toastMessage = "Ticket " + this.ticket.TicketNumber + " has been reopened.";
            }
            else if (this.tmpStatus != "") {
                toastTitle = 'Ticket Status Changed';
                toastMessage = "Your changes to ticket " + this.ticket.TicketNumber + " have been saved.";
            }
            else if (this.tmpAssignedToID !== this.currentUser.CRMUserID) {
                toastTitle = 'Ticket Assignment Changed';
                toastMessage = "Ticket " + this.ticket.TicketNumber + " has been assigned to " + this.tmpAssignedToName + ".";
            }
            this.ticket.Status = this.tmpStatus || this.ticket.Status;
            this.ticket.AssignedToID = this.tmpAssignedToID;
            this.ticket.AssignedToName = this.tmpAssignedToName;
            this.ticket.PendingReason = this.tmpPendingReason;
            this.ticket.SolvedReason = this.tmpSolvedReason;
            var fieldsToUpdate = ['AssignedToID', 'AssignedToName', 'Status'];
            if (this.ticket.Status === 'Pending') {
                fieldsToUpdate.push('PendingReason');
            }
            else if (this.ticket.Status === 'Solved') {
                fieldsToUpdate.push('SolvedReason');
            }
            this.dataService.putTicket(this.ticket, fieldsToUpdate)
                .subscribe(function (response) {
                _this.closeWorkspace();
                _this.toastService.show({
                    title: toastTitle,
                    message: toastMessage,
                    timeout: 4000
                });
                _this.initCallback();
            }, function (error) { _this.handleError(error, 'Unable to update ticket'); });
        };
        TicketDetailWorkspaceComponent.prototype.setWorkspaceData = function () {
            this.oldStatus = this.ticket.Status;
            this.oldAssignedToID = this.ticket.AssignedToID;
            this.oldAssignedToName = this.ticket.AssignedToName;
            this.tmpAssignedToID = this.ticket.AssignedToID;
            this.tmpAssignedToName = this.ticket.AssignedToName;
            this.isAssignToMe = this.tmpAssignedToID === this.currentUser.CRMUserID;
            this.assigneeList = this.sortFilterService.trimEmptyField(this.allAssignees, "CRMName");
        };
        TicketDetailWorkspaceComponent.prototype.setStatus = function (status) {
            this.tmpModalStatus = status;
        };
        TicketDetailWorkspaceComponent.prototype.reopenTicket = function () {
            this.tmpStatus = "Open";
            this.updateTicket();
        };
        TicketDetailWorkspaceComponent.prototype.applyChanges = function () {
            this.closePopdown();
            this.tmpStatus = this.tmpModalStatus;
            this.tmpPendingReason = this.tmpModalPendingReason;
            this.tmpSolvedReason = this.tmpModalSolvedReason;
        };
        TicketDetailWorkspaceComponent.prototype.setAssignee = function (e) {
            if (e && e[0] && e[0].data) {
                this.tmpAssignedToID = e[0].data.CRMUserID;
                this.tmpAssignedToName = e[0].data.CRMName;
                if (this.tmpAssignedToID != this.currentUser.CRMUserID) {
                    this.isAssignToMe = false;
                }
                else {
                    this.isAssignToMe = true;
                }
            }
        };
        TicketDetailWorkspaceComponent.prototype.closePopdown = function () {
            this.markAsPopDown.close();
        };
        TicketDetailWorkspaceComponent.prototype.cancelChanges = function () {
            this.tmpModalStatus = this.tmpStatus;
            this.tmpModalPendingReason = this.tmpPendingReason;
            this.tmpModalSolvedReason = this.tmpSolvedReason;
            this.closePopdown();
        };
        TicketDetailWorkspaceComponent.prototype.closeWorkspace = function () {
            this.closePopdown();
            $(".markas-popdown").remove();
            this.dialog.close();
        };
        TicketDetailWorkspaceComponent.prototype.fixDropdown = function () {
            setTimeout(function () {
                var dropdownPanel = document.getElementById("dropdown-list");
                if (dropdownPanel) {
                    dropdownPanel.setAttribute('style', "z-index: 10000");
                }
            }, 500);
        };
        TicketDetailWorkspaceComponent.prototype.bringAssigneeToTop = function () {
            this.bringToTop(this.allAssignees, 'CRMUserID', this.ticket.AssignedToID);
        };
        TicketDetailWorkspaceComponent.prototype.bringToTop = function (array, field, val) {
            array.sort(function (a, b) {
                return (a[field] === val) ? -1 : b[field] === val ? 1 : 0;
            });
        };
        TicketDetailWorkspaceComponent.prototype.setAssigneeToMe = function () {
            if (this.isAssignToMe) {
                this.tmpAssignedToID = "";
                this.tmpAssignedToName = "";
            }
            else {
                this.tmpAssignedToID = this.currentUser.CRMUserID;
                this.tmpAssignedToName = this.currentUser.CRMName;
            }
        };
        TicketDetailWorkspaceComponent.prototype.openConfirmationModal = function () {
            var _this = this;
            if (this.ticket.AssignedToID != this.tmpAssignedToID || this.tmpStatus) {
                var dialogRef_1 = this.modalService
                    .message("<span class=\"text-base\">You have unsaved changes to ticket " + this.ticket.TicketNumber + ". Are you sure you want to discard these changes?</span>")
                    .buttons([
                    { text: 'No', click: function () { dialogRef_1.close(); } },
                    { text: 'Yes', click: function () {
                            dialogRef_1.close();
                            _this.closeWorkspace();
                        }, isDefault: true
                    }
                ])
                    .title('Close Workspace?')
                    .open();
            }
            else {
                this.closeWorkspace();
            }
        };
        __decorate([
            core_1.ViewChild('markAsPopDown', { read: sohoxi_angular_1.SohoPopDownDirective, static: true }),
            __metadata("design:type", sohoxi_angular_1.SohoPopDownDirective)
        ], TicketDetailWorkspaceComponent.prototype, "markAsPopDown", void 0);
        __decorate([
            core_1.ViewChild(sohoxi_angular_1.SohoBusyIndicatorDirective, { static: true }),
            __metadata("design:type", sohoxi_angular_1.SohoBusyIndicatorDirective)
        ], TicketDetailWorkspaceComponent.prototype, "busyIndicator", void 0);
        TicketDetailWorkspaceComponent = __decorate([
            core_1.Component({
                template: "\n        <div class=\"{{ !isMobileView ? 'ticket-detail-workspace' : '' }}\"\n        soho-busyindicator\n        text=\"Loading...\"\n        blockUI=\"true\"\n        displayDelay=\"0\">\n            <div class=\"ticket-detail-header header-section\">\n                <div class=\"ticket-detail-top-info\">\n                    <div class=\"left-section\">\n                        <div class=\"urgency-bar-container {{ ticket.UrgencyClass }}\">\n                            <div class=\"urgency-bar\"></div>\n                            <div class=\"urgency-bar\"></div>\n                            <div class=\"urgency-bar\"></div>\n                            <div class=\"urgency-bar\"></div>\n                            <div class=\"urgency-bar\"></div>\n                            <div class=\"text-small urgency-bar-label\">{{ ticket.Urgency }}</div>\n                        </div>\n                    </div>\n                    <div class=\"right-section\">\n                        <div [hidden]=\"!ticket.AssignedToID || ticket.Status === 'Solved' || ticket.AssignedToID != currentUser.CRMUserID\">\n                            <button soho-button=\"secondary\" soho-popdown [keepOpen]=\"true\" #markAsPopDown>Mark As</button>\n                            <soho-popdown-contents class=\"markas-popdown\">\n                                <div class=\"widget\">\n                                    <div class=\"widget-header\">\n                                        <h2 class=\"widget-title\">Mark As</h2>\n                                    </div>\n                                    <div class=\"widget-content\" style=\"overflow: hidden;\">\n                                        <div class=\"listview is-selectable\" tabindex=\"-1\" role=\"listbox\" aria-label=\"Mark As\">\n                                            <ul role=\"presentation\">\n                                                <li tabindex=\"0\" role=\"option\" aria-posinset=\"1\" aria-setsize=\"8\">\n                                                    <input soho-radiobutton\n                                                    soho-trackdirty\n                                                    id=\"optionPending\" type=\"radio\" name=\"ogMarkAs\" value=\"1\" checked\n                                                    (click)=\"setStatus('Pending')\" />\n                                                    <label soho-label for=\"optionPending\" [forRadioButton]=\"true\">Pending</label>\n\n                                                    <br>\n\n                                                    <input soho-radiobutton\n                                                    soho-trackdirty\n                                                    id=\"optionSolved\" type=\"radio\" name=\"ogMarkAs\" value=\"2\"\n                                                    (click)=\"setStatus('Solved')\" />\n                                                    <label soho-label for=\"optionSolved\" [forRadioButton]=\"true\">Solved</label>\n                                                </li>\n                                                <li role=\"option\" aria-posinset=\"2\" aria-setsize=\"8\">\n                                                    <div class=\"ticket-detail-modal-reason-block\" (click)=\"fixDropdown()\">\n                                                        <div [hidden]=\"tmpModalStatus != 'Pending' && tmpModalStatus != ''\">\n                                                            <label for=\"pending_reason\" class=\"label\">Reason</label>\n                                                            <select soho-dropdown name=\"pending_reason\" [(ngModel)]=\"tmpModalPendingReason\">\n                                                                <option value=\"\">Please Select</option>\n                                                                <option value=\"Information from caller\">Information from caller</option>\n                                                                <option value=\"Information from another department\">Information from another department</option>\n                                                            </select>\n                                                        </div>\n\n                                                        <div [hidden]=\"tmpModalStatus != 'Solved'\">\n                                                            <label for=\"urgency_dd\" class=\"label\">Reason</label>\n                                                            <select soho-dropdown name=\"urgency_dd\" [(ngModel)]=\"tmpModalSolvedReason\">\n                                                                <option value=\"\">Please Select</option>\n                                                                <option value=\"Cancelled\">Cancelled</option>\n                                                                <option value=\"Credit/Dicount on Future Purchase\">Credit/Dicount on Future Purchase</option>\n                                                                <option value=\"Duplicate\">Duplicate</option>\n                                                                <option value=\"Full Refund\">Full Refund</option>\n                                                                <option value=\"Functions as Designed\">Functions as Designed</option>\n                                                                <option value=\"Partial Refund\">Partial Refund</option>\n                                                                <option value=\"Product Replaced\">Product Replaced</option>\n                                                            </select>\n                                                        </div>\n                                                    </div>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                    </div>\n                                    <div class=\"ticket-detail-modal-buttonset\">\n                                        <button type=\"button\" class=\"btn-modal-secondary\" (click)=\"closePopdown()\">Cancel</button>\n                                        <button type=\"button\" class=\"btn-modal-primary\" (click)=\"applyChanges()\">Apply</button>\n                                    </div>\n                                </div>\n                            </soho-popdown-contents>\n                        </div>\n                        <div [hidden]=\"ticket.Status != 'Solved' || ticket.AssignedToID != currentUser.CRMUserID\">\n                            <button soho-button=\"primary\" class=\"btn-primary\" (click)=\"reopenTicket()\">\n                                Reopen\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-indent ticket-detail-next-header\">\n                    <div class=\"twelve columns\">\n                        <div class=\"text-secondary text-strong nowrap\">\n                            {{ ticket.TicketNumber }} {{ ticket.Type ? \": \" + ticket.Type : \"\" }}\n                        </div>\n                        <div class=\"text-base\">\n                            {{ ticket.AccountName }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row no-indent ticket-detail-next-header\">\n                    <div class=\"twelve columns text-small\">\n                        <div>\n                            {{ ticket.Status === 'New' ? 'Unassigned' : ticket.Status }}\n                        </div>\n                        <div [hidden]=\"ticket.Status != 'New' || ticket.AssignedToID\">\n                            Created: {{ (ticket.StatusDateLastUpdated | dateTimeFormat | date: \"MMM dd, yyyy HH:mma\") || \"N/A\" }}\n                        </div>\n                        <div [hidden]=\"ticket.Status != 'Open' && !ticket.AssignedToID\">\n                            Opened: {{ (ticket.StatusDateLastUpdated | dateTimeFormat | date: \"MMM dd, yyyy HH:mma\") || \"N/A\" }}\n                        </div>\n                        <div [hidden]=\"ticket.Status != 'Pending'\">\n                            Reason: {{ ticket.PendingReason }}\n                        </div>\n                        <div [hidden]=\"ticket.Status != 'Solved'\">\n                            Reason: {{ ticket.SolvedReason }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class='detail-section ticket-detail-content'>\n                <!--<div soho-tabs registerForEvents=\"activated\" class=\"expense-report-tab-list\">\n                    <div soho-tab-list-container>\n                        <ul soho-tab-list>\n                            <li soho-tab selected=\"true\"><a soho-tab-title tabId=\"ticket-detail-details\">Details</a></li>\n                            <li soho-tab><a soho-tab-title tabId=\"ticket-detail-activities\">Activities</a></li>\n                            <li soho-tab><a soho-tab-title tabId=\"ticket-detail-comments\">Comments</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div soho-tab-panel-container>\n                    <div soho-tab-panel tabId=\"ticket-detail-details\">\n                        <div class=\"row\">\n                            <div class=\"twelve columns info-block\">\n                                <div class=\"text-small text-descriptive\">\n                                    Summary\n                                </div>\n                                <div class=\"text-small text-descriptive\" [hidden]=\"!ticket.Summary\">\n                                    {{ ticket.Summary || \"N/A\" }}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"four columns info-block\">\n                                <div class=\"text-small text-descriptive\">\n                                    <div [hidden]=\"!ticket.DerPrimaryFormattedContactName\">\n                                        <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                            <use xlink:href=\"#icon-profile\"></use>\n                                        </svg>\n                                        {{ ticket.DerPrimaryFormattedContactName }}\n                                    </div>\n                                </div>\n                                <div class=\"text-small text-descriptive\">\n                                    <div [hidden]=\"!ticket.DerFormattedContactPhoneNumber\">\n                                        <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                            <use xlink:href=\"#icon-phone\"></use>\n                                        </svg>\n                                        {{ ticket.DerFormattedContactPhoneNumber }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"six columns info-block\" [hidden]=\"!ticket.PrimaryTicketContactEmail\">\n                                <div class=\"text-small text-descriptive\">\n                                    <div [hidden]=\"!ticket.PrimaryTicketContactEmail\">\n                                        <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                            <use xlink:href=\"#icon-mail\"></use>\n                                        </svg>\n                                        <a href=\"#\">{{ ticket.PrimaryTicketContactEmail }}</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"four columns info-block\">\n                                <div class=\"text-small text-descriptive\">\n                                    <div>\n                                        <div>\n                                            Date Needed\n                                        </div>\n                                        <div class=\"text-strong\" [hidden]=\"!ticket.DateNeeded\">\n                                            {{ (ticket.DateNeeded | dateTimeFormat | date: \"medium\") || \"N/A\" }}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"four columns info-block\">\n                                <div class=\"text-small text-descriptive\">\n                                    <div>\n                                        Severity\n                                    </div>\n                                    <div class=\"text-base text-strong\">\n                                        {{ ticket.Severity }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"four columns info-block\">\n                                <div>\n                                    <div class=\"text-small text-descriptive\">\n                                        Area\n                                    </div>\n                                    <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Area\">\n                                        {{ ticket.Area || \"N/A\" }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"four columns info-block\">\n                                <div>\n                                    <div class=\"text-small text-descriptive\">\n                                        Category\n                                    </div>\n                                    <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Category\">\n                                        {{ ticket.Category || \"N/A\" }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"four columns info-block\">\n                                <div>\n                                    <div class=\"text-small text-descriptive\">\n                                        Issue\n                                    </div>\n                                    <div class=\"text-small text-descriptive\" [hidden]=\"!ticket.Issue\">\n                                        {{ ticket.Issue || \"N/A\" }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"info-separator\"></div>\n                        <div class=\"row\">\n                            <div class=\"twelve columns info-block\">\n                                <div class=\"text-small text-descriptive\">\n                                    Description\n                                </div>\n                                <div class=\"text-small text-descriptive\" [hidden]=\"!ticket.Description\">\n                                    {{ ticket.Description || \"N/A\" }}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"info-separator\"></div>\n                        <div class=\"row\">\n                            <div class=\"twelve columns info-block\">\n                                <label soho-label for=\"assignee_lu\">Assigned To</label>\n                                <input soho-lookup\n                                [columns]=\"assigneeColumns\"\n                                [dataset]=\"assigneeList\"\n                                (change)=\"setAssignee($event)\"\n                                field=\"CRMName\"\n                                name=\"assignee_lu\" [(ngModel)]=\"tmpAssignedToName\"\n                                [attr.readonly]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID) ? 'true' : null\" />\n                            </div>\n                        </div>\n                        <div class=\"row\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\">\n                            <div class=\"twelve columns info-block\">\n                                <input soho-checkbox type=\"checkbox\" id=\"assignToMeCB\" name=\"checkbox1\" [(ngModel)]=\"isAssignToMe\" (click)=\"setAssigneeToMe()\">\n                                <label soho-label for=\"assignToMeCB\" [forCheckBox]=\"true\">Assign To Me</label>\n                            </div>\n                        </div>\n                        <div class=\"info-separator\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\"></div>\n                        <div class=\"row\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\">\n                            <div class=\"twelve columns info-block align-r\">\n                                <button soho-button=\"secondary\" class=\"btn-secondary\" (click)=\"openConfirmationModal()\">Cancel</button>\n                                <button soho-button=\"primary\" class=\"btn-primary\" (click)=\"updateTicket()\">Save</button>\n                            </div>\n                        </div>\n                    </div>\n                    <div soho-tab-panel tabId=\"ticket-detail-activities\">\n                        activities\n                    </div>\n                    <div soho-tab-panel tabId=\"ticket-detail-comments\">\n                        comments\n                    </div>\n                </div>-->\n                <div class=\"row margin-bottom-8\">\n                    <div class=\"twelve columns info-block\">\n                        <div class=\"text-small text-descriptive\">\n                            Summary\n                        </div>\n                        <div class=\"text-base\" [hidden]=\"!ticket.Summary\">\n                            {{ ticket.Summary || \"N/A\" }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"info-separator\"></div>\n                <div class=\"row\">\n                    <div class=\"four columns info-block\">\n                        <div class=\"text-small text-descriptive\">\n                            <div [hidden]=\"!ticket.DerPrimaryFormattedContactName\">\n                                <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                    <use xlink:href=\"#icon-profile\"></use>\n                                </svg>\n                                {{ ticket.DerPrimaryFormattedContactName }}\n                            </div>\n                        </div>\n                        <div class=\"text-small text-descriptive\">\n                            <div [hidden]=\"!ticket.DerFormattedContactPhoneNumber\">\n                                <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                    <use xlink:href=\"#icon-phone\"></use>\n                                </svg>\n                                {{ ticket.DerFormattedContactPhoneNumber }}\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"six columns info-block\" [hidden]=\"!ticket.PrimaryTicketContactEmail\">\n                        <div class=\"text-small text-descriptive\">\n                            <div [hidden]=\"!ticket.PrimaryTicketContactEmail\">\n                                <svg class=\"icon info-icon\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\">\n                                    <use xlink:href=\"#icon-mail\"></use>\n                                </svg>\n                                {{ ticket.PrimaryTicketContactEmail }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"info-separator\"></div>\n                <div class=\"row margin-bottom-24\">\n                    <div class=\"four columns info-block\">\n                        <div class=\"text-descriptive\">\n                            <div>\n                                <div class=\"text-small\">\n                                    Date Needed\n                                </div>\n                                <div class=\"text-base text-strong\" [hidden]=\"!ticket.DateNeeded\">\n                                    {{ (ticket.DateNeeded | dateTimeFormat | date: \"medium\") || \"N/A\" }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"four columns info-block\">\n                        <div class=\"text-small text-descriptive\">\n                            <div class=\"text-small\">\n                                Severity\n                            </div>\n                            <div class=\"text-base text-strong\" [hidden]=\"!ticket.Severity\">\n                                {{ ticket.Severity }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row margin-bottom-8\">\n                    <div class=\"four columns info-block\">\n                        <div>\n                            <div class=\"text-small text-descriptive\">\n                                Area\n                            </div>\n                            <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Area\">\n                                {{ ticket.Area || \"N/A\" }}\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"four columns info-block\">\n                        <div>\n                            <div class=\"text-small text-descriptive\">\n                                Category\n                            </div>\n                            <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Category\">\n                                {{ ticket.Category || \"N/A\" }}\n                            </div>\n                        </div>\n                    </div>\n                    <!--<div class=\"four columns info-block\">\n                        <div>\n                            <div class=\"text-small text-descriptive\">\n                                Issue\n                            </div>\n                            <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Issue\">\n                                {{ ticket.Issue || \"N/A\" }}\n                            </div>\n                        </div>\n                    </div>-->\n                </div>\n                <div class=\"info-separator\"></div>\n                <div class=\"row margin-bottom-8\">\n                    <div class=\"twelve columns info-block\">\n                        <div class=\"text-small text-descriptive\">\n                            Description\n                        </div>\n                        <div class=\"text-base text-descriptive\" [hidden]=\"!ticket.Description\">\n                            {{ ticket.Description || \"N/A\" }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"info-separator\"></div>\n                <div class=\"row\">\n                    <div class=\"twelve columns info-block\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\">\n                        <label soho-label for=\"assignee_lu\">Assigned To</label>\n                        <input soho-lookup\n                        id=\"assigneeLU\"\n                        [columns]=\"assigneeColumns\"\n                        [dataset]=\"assigneeList\"\n                        [editable]=\"false\"\n                        (change)=\"setAssignee($event)\"\n                        field=\"CRMName\"\n                        name=\"assignee_lu\" [(ngModel)]=\"tmpAssignedToName\"\n                        [attr.readonly]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID) ? 'true' : null\" />\n                    </div>\n\n                    <div class=\"twelve columns info-block\" [hidden]=\"ticket.Status !== 'Solved' && (!ticket.AssignedToID || ticket.AssignedToID === currentUser.CRMUserID)\">\n                        <label soho-label for=\"assignee_lu\">Assigned To</label>\n                        <input soho-lookup\n                        id=\"assigneeLU\"\n                        [columns]=\"assigneeColumns\"\n                        [dataset]=\"assigneeList\"\n                        (change)=\"setAssignee($event)\"\n                        field=\"CRMName\"\n                        name=\"assignee_lu\" [(ngModel)]=\"tmpAssignedToName\"\n                        [attr.readonly]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID) ? 'true' : null\" />\n                    </div>\n                </div>\n                <div class=\"row\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\">\n                    <div class=\"twelve columns info-block\">\n                        <input soho-checkbox type=\"checkbox\" id=\"assignToMeCB\" name=\"checkbox1\" [(ngModel)]=\"isAssignToMe\" (click)=\"setAssigneeToMe()\">\n                        <label soho-label for=\"assignToMeCB\" [forCheckBox]=\"true\">Assign To Me</label>\n                    </div>\n                </div>\n                <div class=\"info-separator-full\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\"></div>\n                <div class=\"row\" [hidden]=\"ticket.Status === 'Solved' || (ticket.AssignedToID && ticket.AssignedToID != currentUser.CRMUserID)\">\n                    <div class=\"twelve columns info-block align-r\">\n                        <button soho-button=\"secondary\" class=\"btn-secondary\" (click)=\"openConfirmationModal()\">Cancel</button>\n                        <button soho-button=\"primary\" class=\"btn-primary\" (click)=\"updateTicket()\"  [attr.disabled]=\"!tmpStatus && tmpAssignedToID == ticket.AssignedToID ? 'true' : null\">Save</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\t",
                styles: ["\n        .ticket-detail-workspace { width: 600px; }\n        .ticket-detail-header { overflow: hidden; position: relative; padding: 20px 20px 24px 20px; }\n        .ticket-detail-content { padding-top: 16px; }\n        .ticket-detail-top-info { position: absolute; top: 20px; width: calc(100% - 21px); }\n\t\t.ticket-detail-top-info > .left-section { float: left; }\n\t\t.ticket-detail-top-info > .right-section { float: right; padding-right: 20px; }\n\n        .urgency-bar-container > div { display: inline-block; font-size: 11px; }\n        .urgency-bar { background-color: transparent; border: 1px solid #888B94; height: 6px; width: 6px; margin-right: 2px; }\n        .urgency-bar-label { padding-left: 5px; }\n\n\t\t.urgency-bar-container.h > .urgency-bar { background-color: #fb3e47; border: none; }\n\n\t\t.urgency-bar-container.mh > .urgency-bar:nth-child(1),\n\t\t.urgency-bar-container.mh > .urgency-bar:nth-child(2),\n\t\t.urgency-bar-container.mh > .urgency-bar:nth-child(3),\n\t\t.urgency-bar-container.mh > .urgency-bar:nth-child(4) { background-color: #f6600c; border: none; }\n\n\t\t.urgency-bar-container.m > .urgency-bar:nth-child(1),\n\t\t.urgency-bar-container.m > .urgency-bar:nth-child(2),\n\t\t.urgency-bar-container.m > .urgency-bar:nth-child(3) { background-color: #ff8e00; border: none; }\n\n\t\t.urgency-bar-container.ml > .urgency-bar:nth-child(1),\n\t\t.urgency-bar-container.ml > .urgency-bar:nth-child(2) { background-color: #ffd600; border: none; }\n\n\t\t.urgency-bar-container.l > .urgency-bar:first-child { background-color: #54a1d3; border: none; }\n\n        .ticket-detail-modal-buttonset { border-top: 1px solid #bdbdbd; text-align: center; width: 100%; }\n        .ticket-detail-modal-buttonset > button { display: inline-block; height: 46px; line-height: 46px; width: 50%; margin-right: 0px; }\n        .ticket-detail-modal-buttonset > button.btn-modal-secondary { border-right: 1px solid #bdbdbd; color: #5c5c5c; }\n        .ticket-detail-modal-buttonset > button.btn-modal-primary { color: #2578a9; }\n        .ticket-detail-modal-reason-block { height: 70px; }\n\n        .ticket-detail-next-header { margin-top: 24px; margin-bottom: 0px !important; }\n\n        .info-block > div { line-height: 25px; }\n        .info-icon { height: 14px !important; top: 2px; }\n        .info-separator { border-bottom: 1px solid #dedede; margin: 16px 0 16px 16px; }\n        .info-separator-full { border-bottom: 1px solid #bdbdbd; margin: 16px 0 16px 0px; }\n\n        .align-r { text-align: right; }\n        .margin-bottom-24 { margin-bottom: 24px; }\n        .margin-bottom-8 { margin-bottom: 8px; }\n        .nowrap { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n\n        .markas-popdown { z-index: 1500 !important; }\n        .ticket-detail-content > .row:last-child { margin-bottom: 0px !important; }\n    "]
            }),
            __metadata("design:paramtypes", [data_service_1.DataService, sohoxi_angular_1.SohoToastService, sohoxi_angular_1.SohoModalDialogService, sort_filter_service_1.SortFilterService])
        ], TicketDetailWorkspaceComponent);
        return TicketDetailWorkspaceComponent;
    }());
    exports.TicketDetailWorkspaceComponent = TicketDetailWorkspaceComponent;
});
//# sourceMappingURL=ticket-details-workspace.component.js.map